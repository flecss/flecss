<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>flecss | Test</title>
        <script src="./browser.end-to-end.test.js"></script>
        <link rel="stylesheet" href="./browser.style.css">
        <link rel="stylesheet" href="./test.css">
        <template id="error">
            <span class="error"></span>
        </template>
        <template id="title">
            <h4 class="title"></h4>
        </template>
        <template id="result">
            <div class="result">
                <span class="result-property"></span>
                <span class="result-expected"></span>
                <span class="result-actual"></span>
                <span class="result-child"></span>
            </div>
        </template>
    </head>
    <body>
        <script>
            const ZERO_PX = "0px";
            const S_PX = "12.9px";
            const M_PX = "24px";
            const L_PX = "48px";
            const XL_PX = "96px";
        </script>

        <div class="total">
            <div>
                <span class="total-success"></span> / <span class="total-failure"></span> successful
            </div>
        </div>

        <p class="info">
            virtual viewport width: 1440px
        </p>
        
        <main>

            <!-- <section>
                
                <h3>Display</h3>

                <div test="disable">
                    <div class="display_disable">Lorem Ipsum</div>
                </div>
                <script>
                    test("pointer-events", "none");
                    test("opacity", "0.25");
                </script>

                <div test="hide">
                    <div class="display_hide">Lorem Ipsum</div>
                </div>
                <script>
                    test("visibility", "hidden");
                </script>
                
                <div test="collapse">
                    <div class="display_collapse">Lorem Ipsum</div>
                </div>
                <script>
                    test("display", "none");
                </script>
            </section> -->

            <section>
                <h3>Flex</h3>

                <div test="1">
                    <div class="flex_1--m">
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <script>
                    test("display", "flex");
                    test("flex-direction", "row");
                    test("align-items", "flex-start");
                    test("gap", M_PX);
                    flexW = Math.round(document.querySelector("section").clientWidth * 0.9);
                    test("width", {
                        fn: (actual) => parseInt(actual),
                        expected: flexW,
                        eval: (actual, expected) => actual > expected
                    }, 0);
                </script>
                
                <div test="2">
                    <div class="flex_2--l">
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <script>
                    test("display", "flex");
                    test("gap", L_PX);
                    flexW = document.querySelector("section").clientWidth * 0.4;
                    test("width", {
                        fn: (actual) => parseInt(actual),
                        expected: flexW,
                        eval: (actual, expected) => actual > expected
                    }, 0);
                    test("width", {
                        fn: (actual) => parseInt(actual),
                        expected: flexW,
                        eval: (actual, expected) => actual > expected
                    }, 1);
                </script>

                <div test="3">
                    <div class="flex_3">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <script>
                    flexW = document.querySelector("section").clientWidth * 0.25;
                    test("gap", M_PX);
                    test("width", {
                        fn: (actual) => parseInt(actual),
                        expected: flexW,
                        eval: (actual, expected) => actual > expected
                    }, 0);
                    test("width", {
                        fn: (actual) => parseInt(actual),
                        expected: flexW,
                        eval: (actual, expected) => actual > expected
                    }, 2);
                </script>

                <div test="gap extra large">
                    <div class="flex_2--xl">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <script>
                    test("gap", XL_PX);
                </script>
            </section>

            <section>
                <h3>Margin</h3>

                <div test="default">
                    <div class="margin"></div>
                </div>
                <script>
                    test("margin", M_PX);
                </script>
                
                <div test="horizontal">
                    <div class="margin_horizontal"></div>
                </div>
                <script>
                    test("margin-left", M_PX);
                    test("margin-right", M_PX);
                    test("margin-top", ZERO_PX);
                </script>
                
                <div test="horizontal">
                    <div class="margin_vertical"></div>
                </div>
                <script>
                    test("margin-top", M_PX);
                    test("margin-bottom", M_PX);
                    test("margin-left", ZERO_PX);
                </script>

                <div test="top">
                    <div class="margin_top"></div>
                </div>
                <script>
                    test("margin-top", M_PX);
                    test("margin-left", ZERO_PX);
                </script>
                
                <div test="left">
                    <div class="margin_left"></div>
                </div>
                <script>
                    test("margin-left", M_PX);
                    test("margin-top", ZERO_PX);
                </script>

                <div test="default large">
                    <div class="margin--l"></div>
                </div>
                <script>
                    test("margin", L_PX);
                </script>
            </section>

            <section>
                <h3>Padding</h3>

                <div test="default">
                    <div class="padding"></div>
                </div>
                <script>
                    test("padding", M_PX);
                </script>
                
                <div test="horizontal">
                    <div class="padding_horizontal"></div>
                </div>
                <script>
                    test("padding-left", M_PX);
                    test("padding-right", M_PX);
                    test("padding-top", ZERO_PX);
                </script>
                
                <div test="horizontal">
                    <div class="padding_vertical"></div>
                </div>
                <script>
                    test("padding-top", M_PX);
                    test("padding-bottom", M_PX);
                    test("padding-left", ZERO_PX);
                </script>
                
                <div test="top">
                    <div class="padding_top"></div>
                </div>
                <script>
                    test("padding-top", M_PX);
                    test("padding-left", ZERO_PX);
                </script>
                
                <div test="left">
                    <div class="padding_left"></div>
                </div>
                <script>
                    test("padding-left", M_PX);
                    test("padding-top", ZERO_PX);
                </script>

                <div test="top small">
                    <div class="padding_top--s"></div>
                </div>
                <script>
                    test("padding-top", S_PX);
                    test("padding-bottom", ZERO_PX);
                </script>
            </section>

            <section>
                <h3>Section + Wrapper</h3>

                <div test="section wrapper">
                    <div class="section">
                        <div class="wrapper"></div>
                    </div>
                </div>
                <script>
                    test("padding", [ ZERO_PX, M_PX ].join(" "));
                    test("padding-top", ZERO_PX);
                    sectionW = Math.round(document.querySelector("section").clientWidth * 0.9);
                    test("width", {
                        fn: (actual) => parseInt(actual),
                        expected: sectionW,
                        eval: (actual, expected) => actual > expected
                    });
                    test("width", "788px", 0);
                    test("padding", [ XL_PX, ZERO_PX ].join(" "), 0);
                    test("padding-left", ZERO_PX, 0);
                </script>
            </section>

            <section>
                <h3>Text</h3>

                <div test="left">
                    <p class="text_left">
                        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod…
                    </p>
                </div>
                <script>
                    test("text-align", "left");
                </script>

                <div test="right">
                    <p class="text_right">
                        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod…
                    </p>
                </div>
                <script>
                    test("text-align", "right");
                </script>

                <div test="center">
                    <p class="text_center">
                        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod…
                    </p>
                </div>
                <script>
                    test("text-align", "center");
                </script>

                <div test="justify">
                    <p class="text_justify">
                        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod…
                    </p>
                </div>
                <script>
                    test("text-align", "justify");
                </script>

                <script>
                    const getFontSize = (order = 0, scaleCoefficient = 1.125) => {
                        return `${16 * scaleCoefficient**order}px`;
                    };
                </script>

                <div test="size xxs">
                    <p class="text--xxs">
                        Lorem ipsum dolor sit amet…
                    </p>
                </div>
                <script>
                    test("font-size", getFontSize(-3));
                </script>

                <div test="size s">
                    <p class="text--s">
                        Lorem ipsum dolor sit amet…
                    </p>
                </div>
                <script>
                    test("font-size", getFontSize(-1));
                </script>

                <div test="size m">
                    <p class="text--m">
                        Lorem ipsum dolor sit amet…
                    </p>
                </div>
                <script>
                    test("font-size", getFontSize(0));
                </script>
                
                <div test="size xl">
                    <p class="text--xl">
                        Lorem ipsum dolor sit amet…
                    </p>
                </div>
                <script>
                    test("font-size", getFontSize(2));
                </script>
            </section>
            
            <section>
                <h3>Viewport</h3>
                
                <div test="l">
                    <div class="viewport_l"></div>
                </div>
                <script>
                    test("display", "flex");
                </script>

                <div test="not l">
                    <div class="viewport_not-l"></div>
                </div>
                <script>
                    test("display", "none");
                </script>
            </section>
            
            <section>
                <h3>Util: flecss.class</h3>

                <div test=".pv">
                    <div class="test--extend-pv"></div>
                </div>
                <script>
                    test("padding-top", M_PX);
                    test("padding-bottom", M_PX);
                    test("padding-left", "0px");
                    test("padding-right", "0px");
                </script>

                <div test=".pvl">
                    <div class="test--extend-pvl"></div>
                </div>
                <script>
                    test("padding-top", L_PX);
                    test("padding-bottom", L_PX);
                    test("padding-left", "0px");
                    test("padding-right", "0px");
                </script>
            </section>
            
            <section>
                <h3>Util: flecss.color</h3>
                
                <div test="color">
                    <div class="test--color"></div>
                </div>
                <script>
                    test("color", "rgb(255, 0, 0)");
                </script>
            </section>
            
            <section>
                <h3>Util: flecss.space</h3>
                
                <div test="'xl'">
                    <div class="test--flecss__space-p-xl"></div>
                </div>
                <script>
                    test("padding-top", XL_PX);
                    test("padding-bottom", "0px");
                </script>
            </section>

            <section>
                <h3>Default: Headings</h3>
                <script>
                    const getHeadingSize = level => getFontSize(5 - level, 1.375);
                </script>
                
                <div test="H1">
                    <h1>Lorem Ipsum</h1>
                </div>
                <script>
                    test("font-size", getHeadingSize(1));
                </script>

                <div test="H2">
                    <h2>Lorem Ipsum</h2>
                </div>
                <script>
                    test("font-size", getHeadingSize(2));
                </script>

                <div test="H3">
                    <h3>Lorem Ipsum</h3>
                </div>
                <script>
                    test("font-size", getHeadingSize(3));
                </script>
                
                <div test="H4">
                    <h4>Lorem Ipsum</h4>
                </div>
                <script>
                    test("font-size", getHeadingSize(4));
                </script>
                
                <div test="H5">
                    <h5>Lorem Ipsum</h5>
                </div>
                <script>
                    test("font-size", getHeadingSize(5));
                </script>
                
                <div test="H6">
                    <h6>Lorem Ipsum</h6>
                </div>
                <script>
                    test("font-size", getHeadingSize(6));
                </script>
            </section>

        </main>
    </body>
</html>